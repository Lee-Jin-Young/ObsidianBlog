---
tags: server
상태: 해결 완료
완료: 2023년 8월 21일 → 2023년 8월 23일
---

## 발생한 문제

---

https를 통해 접속 시도 시 ****사이트에 보안 연결할 수 없음(ERR_SSL_PROTOCOL_ERROR)****가 발생함

### 문제의 일반적인 원인

SSL인증서와 연관이 된 에러이다.

1. 도메인 대신 IP주소로 접속 시 해결되는가?
→ `https://(ip주소)`로 연결 시에도 동일한 오류 발생하였다.
2. DNS서버는 포트와 관계 없이 도메인 주소로만 요청함

### 문제의 일반적인 원인 2

SSL인증서가 없을 때 https 통해 접속 시도 할 경우 발생하는 오류이다.

1. SSL인증서가 발급 되어 있는지 확인
→ SSL인증서가 없어 발생한 오류였다.
    1. 인증서가 없을 경우 발급 받아 서버에 적용한다.
    2. 인증서가 있을 경우 만료되어 있는지 확인한다.
2. 인증서 발급 이후 인증서가 올바르지 않음 오류 발생
→ DNS와 ACM간에 원활한 연결이 되지 않아서 발생
    1. 로드 밸런서를 이용
    → [[DNS] 레코드 타입 오류]
    2. SSL파일(.pem .p2등)을 통해 SSH로 접속한 서버 내부에서 직접 적용
    → ACM은 파일 형태로 제공하지 않기 때문에 certbot등에서 인증서 발급이 필요
    
    ![로드밸런서와 연결하는 dns설정](Untitled%201.png)
    
    로드밸런서와 연결하는 dns설정
    
    ![대상그룹](Untitled%202.png)
    
    대상그룹
    

### 해결 방안

---

**nginx**와 **certbot**이용으로 보안 설정

인증서의 경우 hook를 통해 갱신 예정